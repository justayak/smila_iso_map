/**
 * Created by julian on 4/30/15.
 */

var Map = require('./../lib/map.js');

// =======================================================================
// =======================================================================

var json = '{"w": 10,    "h": 6,    "type": ' +
    '[[1,1,1,2,1,1,2,3,1,1],  ' +
    ' [3,1,1,2,1,1,2,3,1,1],   ' +
    ' [4,1,1,2,1,1,2,3,1,1],   ' +
    ' [5,1,1,2,9,1,2,3,1,1], ' +
    ' [6,1,1,1,5,1,2,3,1,1],   ' +
    ' [9,1,1,2,5,1,2,3,1,11]],   "height": ' +
    '[[0,0,0,0,0,0,0,0,0,0],    ' +
    '[0,0,0,0,0,0,0,0,0,0],    ' +
    '[0,0,0,0,0,0,0,0,0,0],' +
    '[0,0,0,0,4,0,0,0,0,0],    ' +
    '[0,0,0,0,0,0,0,0,0,0],    ' +
    '[0,0,0,0,0,0,0,0,0,1]]}';

// =======================================================================
// =======================================================================

describe("init", function () {

    it("should be the right type", function () {
        var map = new Map(JSON.parse(json));
        expect(map.getTypeAt(0,0)).toBe(1);
        expect(map.getTypeAt(9,5)).toBe(11);
        expect(map.getTypeAt(4,3)).toBe(9);
    });

    it("should be the right height", function () {
        var map = new Map(JSON.parse(json));
        expect(map.getHeightAt(0,0)).toBe(0);
        expect(map.getHeightAt(9,5)).toBe(1);
        expect(map.getHeightAt(4,3)).toBe(4);
    });
});